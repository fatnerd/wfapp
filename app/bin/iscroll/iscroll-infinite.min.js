(function(j,k,e){function r(a,b){this.wrapper="string"==typeof a?k.querySelector(a):a;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={mouseWheelSpeed:20,snapThreshold:0.334,infiniteUseTransform:!0,deceleration:0.004,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};
for(var c in b)this.options[c]=b[c];this.translateZ=this.options.HWCompositing&&f.hasPerspective?" translateZ(0)":"";this.options.useTransition=f.hasTransition&&this.options.useTransition;this.options.useTransform=f.hasTransform&&this.options.useTransform;this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY="vertical"==this.options.eventPassthrough?
!1:this.options.scrollY;this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing="string"==typeof this.options.bounceEasing?f.ease[this.options.bounceEasing]||f.ease.circular:this.options.bounceEasing;this.options.resizePolling=void 0===this.options.resizePolling?
60:this.options.resizePolling;!0===this.options.tap&&(this.options.tap="tap");this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.options.infiniteElements&&(this.options.probeType=3);this.options.infiniteUseTransform=this.options.infiniteUseTransform&&this.options.useTransform;3==this.options.probeType&&(this.options.useTransition=!1);this.directionY=this.directionX=this.y=this.x=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);
this.enable()}var u=j.requestAnimationFrame||j.webkitRequestAnimationFrame||j.mozRequestAnimationFrame||j.oRequestAnimationFrame||j.msRequestAnimationFrame||function(a){j.setTimeout(a,1E3/60)},f,l=function(a){return!1===p?!1:""===p?a:p+a.charAt(0).toUpperCase()+a.substr(1)},h={},s=k.createElement("div").style,p;a:{for(var m=["t","webkitT","MozT","msT","OT"],t,q=0,v=m.length;q<v;q++)if(t=m[q]+"ransform",t in s){p=m[q].substr(0,m[q].length-1);break a}p=!1}h.getTime=Date.now||function(){return(new Date).getTime()};
h.extend=function(a,b){for(var c in b)a[c]=b[c]};h.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)};h.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)};h.momentum=function(a,b,c,d,g,i){var b=a-b,c=e.abs(b)/c,f,i=void 0===i?6E-4:i;f=a+c*c/(2*i)*(0>b?-1:1);i=c/i;f<d?(f=g?d-g/2.5*(c/8):d,b=e.abs(f-a),i=b/c):0<f&&(f=g?g/2.5*(c/8):0,b=e.abs(a)+f,i=b/c);return{destination:e.round(f),duration:i}};m=l("transform");h.extend(h,{hasTransform:!1!==m,hasPerspective:l("perspective")in s,hasTouch:"ontouchstart"in
j,hasPointer:navigator.msPointerEnabled,hasTransition:l("transition")in s});h.isBadAndroid=/Android /.test(j.navigator.appVersion)&&!/Chrome\/\d/.test(j.navigator.appVersion);h.extend(h.style={},{transform:m,transitionTimingFunction:l("transitionTimingFunction"),transitionDuration:l("transitionDuration"),transitionDelay:l("transitionDelay"),transformOrigin:l("transformOrigin")});h.hasClass=function(a,b){return RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)};h.addClass=function(a,b){if(!h.hasClass(a,
b)){var c=a.className.split(" ");c.push(b);a.className=c.join(" ")}};h.removeClass=function(a,b){h.hasClass(a,b)&&(a.className=a.className.replace(RegExp("(^|\\s)"+b+"(\\s|$)","g")," "))};h.offset=function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}};h.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1};h.extend(h.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,
MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});h.extend(h.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return e.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){return(a-=1)*a*(5*a+4)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/
2.75)*a+0.984375}},elastic:{style:"",fn:function(a){return 0===a?0:1==a?1:0.4*e.pow(2,-10*a)*e.sin(2*(a-0.055)*e.PI/0.22)+1}}});h.tap=function(a,b){var c=k.createEvent("Event");c.initEvent(b,!0,!0);c.pageX=a.pageX;c.pageY=a.pageY;a.target.dispatchEvent(c)};h.click=function(a){var b=a.target,c;/(SELECT|INPUT|TEXTAREA)/i.test(b.tagName)||(c=k.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,a.view,1,b.screenX,b.screenY,b.clientX,b.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),c._constructed=
!0,b.dispatchEvent(c))};f=h;r.prototype={version:"5.1.1",_init:function(){this._initEvents();this.options.mouseWheel&&this._initWheel();this.options.snap&&this._initSnap();this.options.keyBindings&&this._initKeys();this.options.infiniteElements&&this._initInfinite()},destroy:function(){this._initEvents(!0);this._execEvent("destroy")},_transitionEnd:function(a){a.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,
this._execEvent("scrollEnd")))},_start:function(a){if(!(1!=f.eventType[a.type]&&0!==a.button)&&this.enabled&&!(this.initiated&&f.eventType[a.type]!==this.initiated)){this.options.preventDefault&&!f.isBadAndroid&&!f.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var b=a.touches?a.touches[0]:a;this.initiated=f.eventType[a.type];this.moved=!1;this.directionLocked=this.directionY=this.directionX=this.distY=this.distX=0;this._transitionTime();this.startTime=
f.getTime();this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,a=this.getComputedPosition(),this._translate(e.round(a.x),e.round(a.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd"));this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=b.pageX;this.pointY=b.pageY;this._execEvent("beforeScrollStart")}},_move:function(a){if(this.enabled&&f.eventType[a.type]===
this.initiated){this.options.preventDefault&&a.preventDefault();var b=a.touches?a.touches[0]:a,c=b.pageX-this.pointX,d=b.pageY-this.pointY,g=f.getTime(),i;this.pointX=b.pageX;this.pointY=b.pageY;this.distX+=c;this.distY+=d;b=e.abs(this.distX);i=e.abs(this.distY);if(!(300<g-this.endTime&&10>b&&10>i)){!this.directionLocked&&!this.options.freeScroll&&(this.directionLocked=b>i+this.options.directionLockThreshold?"h":i>=b+this.options.directionLockThreshold?"v":"n");if("h"==this.directionLocked){if("vertical"==
this.options.eventPassthrough)a.preventDefault();else if("horizontal"==this.options.eventPassthrough){this.initiated=!1;return}d=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)a.preventDefault();else if("vertical"==this.options.eventPassthrough){this.initiated=!1;return}c=0}c=this.hasHorizontalScroll?c:0;d=this.hasVerticalScroll?d:0;a=this.x+c;b=this.y+d;if(0<a||a<this.maxScrollX)a=this.options.bounce?this.x+c/3:0<a?0:this.maxScrollX;if(0<b||b<this.maxScrollY)b=
this.options.bounce?this.y+d/3:0<b?0:this.maxScrollY;this.directionX=0<c?-1:0>c?1:0;this.directionY=0<d?-1:0>d?1:0;this.moved||this._execEvent("scrollStart");this.moved=!0;this._translate(a,b);300<g-this.startTime&&(this.startTime=g,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll"));1<this.options.probeType&&this._execEvent("scroll")}}},_end:function(a){if(this.enabled&&f.eventType[a.type]===this.initiated){this.options.preventDefault&&!f.preventDefaultException(a.target,
this.options.preventDefaultException)&&a.preventDefault();var b,c;c=f.getTime()-this.startTime;var d=e.round(this.x),g=e.round(this.y),i=e.abs(d-this.startX),h=e.abs(g-this.startY);b=0;var n="";this.initiated=this.isInTransition=0;this.endTime=f.getTime();if(!this.resetPosition(this.options.bounceTime))if(this.scrollTo(d,g),this.moved)if(this._events.flick&&200>c&&100>i&&100>h)this._execEvent("flick");else if(this.options.momentum&&300>c&&(b=this.hasHorizontalScroll?f.momentum(this.x,this.startX,
c,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:d,duration:0},c=this.hasVerticalScroll?f.momentum(this.y,this.startY,c,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:g,duration:0},d=b.destination,g=c.destination,b=e.max(b.duration,c.duration),this.isInTransition=1),this.options.snap&&(this.currentPage=n=this._nearestSnap(d,g),b=this.options.snapSpeed||e.max(e.max(e.min(e.abs(d-n.x),1E3),e.min(e.abs(g-
n.y),1E3)),300),d=n.x,g=n.y,this.directionY=this.directionX=0,n=this.options.bounceEasing),d!=this.x||g!=this.y){if(0<d||d<this.maxScrollX||0<g||g<this.maxScrollY)n=f.ease.quadratic;this.scrollTo(d,g,b,n)}else this._execEvent("scrollEnd");else this.options.tap&&f.tap(a,this.options.tap),this.options.click&&f.click(a),this._execEvent("scrollCancel")}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=
this.x,c=this.y;!this.hasHorizontalScroll||0<this.x?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX);!this.hasVerticalScroll||0<this.y?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY);if(b==this.x&&c==this.y)return!1;this.scrollTo(b,c,a||0,this.options.bounceEasing);return!0},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=
this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;var a;this.options.infiniteElements&&(this.options.infiniteLimit=this.options.infiniteLimit||e.floor(2147483645/this.infiniteElementHeight),a=-this.options.infiniteLimit*this.infiniteElementHeight+this.wrapperHeight);this.maxScrollY=void 0!==a?a:this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&0>this.maxScrollX;this.hasVerticalScroll=this.options.scrollY&&0>this.maxScrollY;this.hasHorizontalScroll||
(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth);this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight);this.directionY=this.directionX=this.endTime=0;this.wrapperOffset=f.offset(this.wrapper);this._execEvent("refresh");this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]);this._events[a].push(b)},off:function(a,b){if(this._events[a]){var c=this._events[a].indexOf(b);-1<c&&this._events[a].splice(c,1)}},_execEvent:function(a){if(this._events[a]){var b=
0,c=this._events[a].length;if(c)for(;b<c;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))}},scrollBy:function(a,b,c,d){a=this.x+a;b=this.y+b;this.scrollTo(a,b,c||0,d)},scrollTo:function(a,b,c,d){d=d||f.ease.circular;this.isInTransition=this.options.useTransition&&0<c;!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn)},scrollToElement:function(a,b,c,d,g){if(a=a.nodeType?a:this.scroller.querySelector(a)){var i=
f.offset(a);i.left-=this.wrapperOffset.left;i.top-=this.wrapperOffset.top;!0===c&&(c=e.round(a.offsetWidth/2-this.wrapper.offsetWidth/2));!0===d&&(d=e.round(a.offsetHeight/2-this.wrapper.offsetHeight/2));i.left-=c||0;i.top-=d||0;i.left=0<i.left?0:i.left<this.maxScrollX?this.maxScrollX:i.left;i.top=0<i.top?0:i.top<this.maxScrollY?this.maxScrollY:i.top;b=void 0===b||null===b||"auto"===b?e.max(e.abs(this.x-i.left),e.abs(this.y-i.top)):b;this.scrollTo(i.left,i.top,b,g)}},_transitionTime:function(a){a=
a||0;this.scrollerStyle[f.style.transitionDuration]=a+"ms";!a&&f.isBadAndroid&&(this.scrollerStyle[f.style.transitionDuration]="0.001s")},_transitionTimingFunction:function(a){this.scrollerStyle[f.style.transitionTimingFunction]=a},_translate:function(a,b){this.options.useTransform?this.scrollerStyle[f.style.transform]="translate("+a+"px,"+b+"px)"+this.translateZ:(a=e.round(a),b=e.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px");this.x=a;this.y=b},_initEvents:function(a){var a=
a?f.removeEvent:f.addEvent,b=this.options.bindToWrapper?this.wrapper:j;a(j,"orientationchange",this);a(j,"resize",this);this.options.click&&a(this.wrapper,"click",this,!0);this.options.disableMouse||(a(this.wrapper,"mousedown",this),a(b,"mousemove",this),a(b,"mousecancel",this),a(b,"mouseup",this));f.hasPointer&&!this.options.disablePointer&&(a(this.wrapper,"MSPointerDown",this),a(b,"MSPointerMove",this),a(b,"MSPointerCancel",this),a(b,"MSPointerUp",this));f.hasTouch&&!this.options.disableTouch&&
(a(this.wrapper,"touchstart",this),a(b,"touchmove",this),a(b,"touchcancel",this),a(b,"touchend",this));a(this.scroller,"transitionend",this);a(this.scroller,"webkitTransitionEnd",this);a(this.scroller,"oTransitionEnd",this);a(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var a=j.getComputedStyle(this.scroller,null),b;this.options.useTransform?(a=a[f.style.transform].split(")")[0].split(", "),b=+(a[12]||a[4]),a=+(a[13]||a[5])):(b=+a.left.replace(/[^-\d.]/g,""),a=+a.top.replace(/[^-\d.]/g,
""));return{x:b,y:a}},_initWheel:function(){f.addEvent(this.wrapper,"wheel",this);f.addEvent(this.wrapper,"mousewheel",this);f.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){f.removeEvent(this.wrapper,"wheel",this);f.removeEvent(this.wrapper,"mousewheel",this);f.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(a){if(this.enabled){a.preventDefault();a.stopPropagation();var b,c,d,g=this;void 0===this.wheelTimeout&&g._execEvent("scrollStart");clearTimeout(this.wheelTimeout);
this.wheelTimeout=setTimeout(function(){g._execEvent("scrollEnd");g.wheelTimeout=void 0},400);if("deltaX"in a)b=-a.deltaX,a=-a.deltaY;else if("wheelDeltaX"in a)b=a.wheelDeltaX/120*this.options.mouseWheelSpeed,a=a.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in a)b=a=a.wheelDelta/120*this.options.mouseWheelSpeed;else if("detail"in a)b=a=-a.detail/3*this.options.mouseWheelSpeed;else return;b*=this.options.invertWheelDirection;a*=this.options.invertWheelDirection;this.hasVerticalScroll||
(b=a,a=0);this.options.snap?(c=this.currentPage.pageX,d=this.currentPage.pageY,0<b?c--:0>b&&c++,0<a?d--:0>a&&d++,this.goToPage(c,d)):(c=this.x+e.round(this.hasHorizontalScroll?b:0),d=this.y+e.round(this.hasVerticalScroll?a:0),0<c?c=0:c<this.maxScrollX&&(c=this.maxScrollX),0<d?d=0:d<this.maxScrollY&&(d=this.maxScrollY),this.scrollTo(c,d,0),1<this.options.probeType&&this._execEvent("scroll"))}},_initSnap:function(){this.currentPage={};"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap));
this.on("refresh",function(){var a=0,b,c=0,d,g,i,f=0,h;d=this.options.snapStepX||this.wrapperWidth;var j=this.options.snapStepY||this.wrapperHeight;this.pages=[];if(this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap){g=e.round(d/2);for(i=e.round(j/2);f>-this.scrollerWidth;){this.pages[a]=[];for(h=b=0;h>-this.scrollerHeight;)this.pages[a][b]={x:e.max(f,this.maxScrollX),y:e.max(h,this.maxScrollY),width:d,height:j,cx:f-g,cy:h-i},h-=j,b++;f-=d;a++}}else{j=
this.options.snap;b=j.length;for(d=-1;a<b;a++){if(0===a||j[a].offsetLeft<=j[a-1].offsetLeft)c=0,d++;this.pages[c]||(this.pages[c]=[]);f=e.max(-j[a].offsetLeft,this.maxScrollX);h=e.max(-j[a].offsetTop,this.maxScrollY);g=f-e.round(j[a].offsetWidth/2);i=h-e.round(j[a].offsetHeight/2);this.pages[c][d]={x:f,y:h,width:j[a].offsetWidth,height:j[a].offsetHeight,cx:g,cy:i};f>this.maxScrollX&&c++}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);0===this.options.snapThreshold%1?this.snapThresholdY=
this.snapThresholdX=this.options.snapThreshold:(this.snapThresholdX=e.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=e.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}});this.on("flick",function(){var a=this.options.snapSpeed||e.max(e.max(e.min(e.abs(this.x-this.startX),1E3),e.min(e.abs(this.y-this.startY),1E3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+
this.directionY,a)})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var c=0,d=this.pages.length,g=0;if(e.abs(a-this.absStartX)<this.snapThresholdX&&e.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;0<a?a=0:a<this.maxScrollX&&(a=this.maxScrollX);for(0<b?b=0:b<this.maxScrollY&&(b=this.maxScrollY);c<d;c++)if(a>=this.pages[c][0].cx){a=this.pages[c][0].x;break}for(d=this.pages[c].length;g<d;g++)if(b>=this.pages[0][g].cy){b=this.pages[0][g].y;break}c==
this.currentPage.pageX&&(c+=this.directionX,0>c?c=0:c>=this.pages.length&&(c=this.pages.length-1),a=this.pages[c][0].x);g==this.currentPage.pageY&&(g+=this.directionY,0>g?g=0:g>=this.pages[0].length&&(g=this.pages[0].length-1),b=this.pages[0][g].y);return{x:a,y:b,pageX:c,pageY:g}},goToPage:function(a,b,c,d){d=d||this.options.bounceEasing;a>=this.pages.length?a=this.pages.length-1:0>a&&(a=0);b>=this.pages[a].length?b=this.pages[a].length-1:0>b&&(b=0);var g=this.pages[a][b].x,f=this.pages[a][b].y,c=
void 0===c?this.options.snapSpeed||e.max(e.max(e.min(e.abs(g-this.x),1E3),e.min(e.abs(f-this.y),1E3)),300):c;this.currentPage={x:g,y:f,pageX:a,pageY:b};this.scrollTo(g,f,c,d)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++;c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++);this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--;0>c&&this.hasVerticalScroll&&(c=0,d--);this.goToPage(c,d,a,b)},_initKeys:function(){var a={pageUp:33,
pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},b;if("object"==typeof this.options.keyBindings)for(b in this.options.keyBindings)"string"==typeof this.options.keyBindings[b]&&(this.options.keyBindings[b]=this.options.keyBindings[b].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(b in a)this.options.keyBindings[b]=this.options.keyBindings[b]||a[b];f.addEvent(j,"keydown",this);this.on("destroy",function(){f.removeEvent(j,"keydown",this)})},_key:function(a){if(this.enabled){var b=
this.options.snap,c=b?this.currentPage.pageX:this.x,d=b?this.currentPage.pageY:this.y,g=f.getTime(),i=this.keyTime||0,h;this.options.useTransition&&this.isInTransition&&(h=this.getComputedPosition(),this._translate(e.round(h.x),e.round(h.y)),this.isInTransition=!1);this.keyAcceleration=200>g-i?e.min(this.keyAcceleration+0.25,50):0;switch(a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?c+=b?1:this.wrapperWidth:d+=b?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&
!this.hasVerticalScroll?c-=b?1:this.wrapperWidth:d-=b?1:this.wrapperHeight;break;case this.options.keyBindings.end:c=b?this.pages.length-1:this.maxScrollX;d=b?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:d=c=0;break;case this.options.keyBindings.left:c+=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:d+=b?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:c-=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:d-=
b?1:5+this.keyAcceleration>>0;break;default:return}b?this.goToPage(c,d):(0<c?this.keyAcceleration=c=0:c<this.maxScrollX&&(c=this.maxScrollX,this.keyAcceleration=0),0<d?this.keyAcceleration=d=0:d<this.maxScrollY&&(d=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(c,d,0),this.keyTime=g)}},_animate:function(a,b,c,d){function g(){var o=f.getTime(),k;o>=m?(e.isAnimating=!1,e._translate(a,b),e.resetPosition(e.options.bounceTime)||e._execEvent("scrollEnd")):(o=(o-l)/c,k=d(o),o=(a-h)*k+h,k=(b-j)*k+
j,e._translate(o,k),e.isAnimating&&u(g),3==e.options.probeType&&e._execEvent("scroll"))}var e=this,h=this.x,j=this.y,l=f.getTime(),m=l+c;this.isAnimating=!0;g()},_initInfinite:function(){var a=this.options.infiniteElements;this.infiniteElements="string"==typeof a?k.querySelectorAll(a):a;this.infiniteLength=this.infiniteElements.length;this.infiniteMaster=this.infiniteElements[0];this.infiniteElementHeight=this.infiniteMaster.offsetHeight;this.infiniteHeight=this.infiniteLength*this.infiniteElementHeight;
this.options.cacheSize=this.options.cacheSize||1E3;this.infiniteCacheBuffer=e.round(this.options.cacheSize/4);this.options.dataset.call(this,0,this.options.cacheSize);this.on("refresh",function(){var a=e.ceil(this.wrapperHeight/this.infiniteElementHeight);this.infiniteUpperBufferSize=e.floor((this.infiniteLength-a)/2);this.reorderInfinite()});this.on("scroll",this.reorderInfinite)},reorderInfinite:function(){for(var a=e.max(e.floor(-this.y/this.infiniteElementHeight)-this.infiniteUpperBufferSize,
0),b=e.floor(a/this.infiniteLength),c=a-b*this.infiniteLength,d=0,g=0,i=[],h=e.floor(a/this.infiniteCacheBuffer);g<this.infiniteLength;)d=g*this.infiniteElementHeight+b*this.infiniteHeight,c>g&&(d+=this.infiniteElementHeight*this.infiniteLength),this.infiniteElements[g]._top!==d&&(this.infiniteElements[g]._phase=d/this.infiniteElementHeight,this.infiniteElements[g]._phase<this.options.infiniteLimit&&(this.infiniteElements[g]._top=d,this.options.infiniteUseTransform?this.infiniteElements[g].style[f.style.transform]=
"translate(0, "+d+"px)"+this.translateZ:this.infiniteElements[g].style.top=d+"px",i.push(this.infiniteElements[g]))),g++;this.cachePhase!=h&&(0===h||0<a-this.infiniteCacheBuffer)&&this.options.dataset.call(this,e.max(h*this.infiniteCacheBuffer-this.infiniteCacheBuffer,0),this.options.cacheSize);this.cachePhase=h;this.updateContent(i)},updateContent:function(a){if(void 0!==this.infiniteCache)for(var b=0,c=a.length;b<c;b++)this.options.dataFiller.call(this,a[b],this.infiniteCache[a[b]._phase])},updateCache:function(a,
b){var c=void 0===this.infiniteCache;this.infiniteCache={};for(var d=0,e=b.length;d<e;d++)this.infiniteCache[a++]=b[d];c&&this.updateContent(this.infiniteElements)},handleEvent:function(a){switch(a.type){case "touchstart":case "MSPointerDown":case "mousedown":this._start(a);break;case "touchmove":case "MSPointerMove":case "mousemove":this._move(a);break;case "touchend":case "MSPointerUp":case "mouseup":case "touchcancel":case "MSPointerCancel":case "mousecancel":this._end(a);break;case "orientationchange":case "resize":this._resize();
break;case "transitionend":case "webkitTransitionEnd":case "oTransitionEnd":case "MSTransitionEnd":this._transitionEnd(a);break;case "wheel":case "DOMMouseScroll":case "mousewheel":this._wheel(a);break;case "keydown":this._key(a);break;case "click":a._constructed||(a.preventDefault(),a.stopPropagation())}}};r.utils=f;"undefined"!=typeof module&&module.exports?module.exports=r:j.IScroll=r})(window,document,Math);